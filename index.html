<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    
    <title>Laudo de Teste</title>
    

</head>
<body>
    <div id="conteudoPDF">
    <div class="tab">
        <img class="girar" 
                 src=".\image\new2.webp" 
                 alt="Imagem girando"/>

        <h2>LAUDO DE TESTE DE LAVAÇÃO DE ENXOVAL</h2><br>        
        <h3 class="cliente">Cliente:<input type="text" id="cli" placeholder="Cliente"></h3><br>
        
        <h3 class="text">Objetivo: Avaliação das peças de enxoval submetidas ao processo de higienização para verificar a 
            manutenção das características originais (dimensões, cor e integridade) após a lavagem.</h3><br>
            
    
    
    
    </div>
    <div class="div2">
        <table border="1" id="minhaTabela">
            <thead>
                <tr>
                    <th>Item avaliado</th>
                    <th>Qtde</th>
                    <th>Cor</th>
                    <th>Comprimento</th>
                    <th>Largura</th>
                    <th>Lavação</th>
                    <th>Data</th>
                    <th>Despigmentação</th>
                    <th>Redução no comprimento</th>
                    <th>Redução na largura</th>
                </tr>
            </thead>
            <tbody>
                
                <tr>
                    <td><input type="text" id="a1" placeholder="a1"></td>
                    <td><input type="text" id="b1" placeholder="b1"></td>
                    <td><input type="text" id="c1" placeholder="c1"></td>
                    <td><input type="text" id="d1" placeholder="d1"></td>
                    <td><input type="text" id="e1" placeholder="e1"></td>
                    <td><input type="text" id="f1" placeholder="f1"></td>
                    <td><input type="text" id="g1" placeholder="g1"></td>
                    <td><select id="h1" name="h1">
                        <option value="" disabled selected>h1</option>
                        <option value="Acima do esperdo">Acima do esperado</option>
                        <option value="Dentro do esperado">Dentro do esperado</option>
                        
                    </select></td>
                    <td><input type="text" id="i1" placeholder="0.00"></td>
                    <td><input type="text" id="j1" placeholder="0.00"></td>
                </tr>
              
                <tr>
                    <td><input type="text" id="a2" placeholder="a2"></td>
                    <td><input type="text" id="b2" placeholder="b2"></td>
                    <td><input type="text" id="c2" placeholder="c2"></td>
                    <td><input type="text" id="d2" placeholder="d2"></td>
                    <td><input type="text" id="e2" placeholder="e2"></td>
                    <td><input type="text" id="f2" placeholder="f2"></td>
                    <td><input type="text" id="g2" placeholder="g2"></td>
                    <td><select id="h2" name="h2">
                        <option value="" disabled selected>h2</option>
                        <option value="Acima do esperdo">Acima do esperado</option>
                        <option value="Dentro do esperado">Dentro do esperado</option>
                    </select></td>
                    <td><input type="text" id="i2" placeholder="i2"></td>
                    <td><input type="text" id="j2" placeholder="j2"></td>
                </tr>
                
                <tr>
                    <td><input type="text" id="a3" placeholder="a3"></td>
                    <td><input type="text" id="b3" placeholder="b3"></td>
                    <td><input type="text" id="c3" placeholder="c3"></td>
                    <td><input type="text" id="d3" placeholder="d3"></td>
                    <td><input type="text" id="e3" placeholder="e3"></td>
                    <td><input type="text" id="f3" placeholder="f3"></td>
                    <td><input type="text" id="g3" placeholder="g3"></td>
                    <td><select id="h3" name="h3">
                        <option value="" disabled selected>h3</option>
                        <option value="Acima do esperdo">Acima do esperado</option>
                        <option value="Dentro do esperado">Dentro do esperado</option>
                    </select></td>
                    <td><input type="text" id="i3" placeholder="i3"></td>
                    <td><input type="text" id="j3" placeholder="j3"></td>
                </tr>
                <tr>
                    <td><input type="text" id="a4" placeholder="a4"></td>
                    <td><input type="text" id="b4" placeholder="b4"></td>
                    <td><input type="text" id="c4" placeholder="c4"></td>
                    <td><input type="text" id="d4" placeholder="d4"></td>
                    <td><input type="text" id="e4" placeholder="e4"></td>
                    <td><input type="text" id="f4" placeholder="f4"></td>
                    <td><input type="text" id="g4" placeholder="g4"></td>
                    <td><select id="h4" name="h4">
                        <option value="" disabled selected>h4</option>
                        <option value="Acima do esperdo">Acima do esperado</option>
                        <option value="Dentro do esperado">Dentro do esperado</option>
                        
                    </select></td>
                    <td><input type="text" id="i4" placeholder="i4"></td>
                    <td><input type="text" id="j4" placeholder="j4"></td>
                </tr>
                <tr>
                    <td><input type="text" id="a5" placeholder="a5"></td>
                    <td><input type="text" id="b5" placeholder="b5"></td>
                    <td><input type="text" id="c5" placeholder="c5"></td>
                    <td><input type="text" id="d5" placeholder="d5"></td>
                    <td><input type="text" id="e5" placeholder="e5"></td>
                    <td><input type="text" id="f5" placeholder="f5"></td>
                    <td><input type="text" id="g5" placeholder="g5"></td>
                    <td><select id="h5" name="h5">
                        <option value="" disabled selected>h5</option>
                        <option value="Acima do esperdo">Acima do esperado</option>
                        <option value="Dentro do esperado">Dentro do esperado</option>
                        
                    </select></td>
                    <td><input type="text" id="i5" placeholder="i5"></td>
                    <td><input type="text" id="j5" placeholder="j5"></td>
                    <tr>
                       
                <tr6>
                    <td id="result">Resultados</td>
                    <td id="resultadoB"></td>
                    <td id="resultadoC"></td>
                    <td id="resultadoD"></td>
                    <td id="resultadoE"></td>
                    <td id="resultadoF"></td>
                    <td id="resultadoG"></td>
                    <td id="resultadoH"></td>
                    <td id="resultadoI"></td>
                    <td id="resultadoJ"></td>
                    
                </tr6>
               
            </tbody>
        </table>
       

     
    
      <fieldset class="messagens"><legend>Conclusões: </legend>
    
     <br><p id="message"></p>
     <br><p id="message2"></p>
     <br><p id="message3"></p>
     <br><p id="message4"></p>
     <br><p id="message5"></p>
     <br><p id="message6"></p>
     <br><p id="message7"></p>
     <br><p id="message8"></p>
     <br><p id="message9"></p>
     <br><p id="message10"></p>
     <br><p id="message11"></p>  
  
    <br><p><br><br>__________________________________________________________<br>Responsável pelo Laudo</p>
    <p><br><br>__________________________________________________________<br>Cargo</p>
    <p><br><br>__________________________________________________________<br>Assinatura</p>
    <br><br>
    <div class="btns">
    <button onclick="calcularResultados()"><i class="fa-solid fa-calculator" style="color: #4C6173; font-size: 28px;"></i></button>
    <button type="button" id="sun"><i class="fa-solid fa-file-lines" style="color:  #03A6A6; font-size: 28px;"></i></button> 
    
    <button class="pdf" id="PDF"><i class="fa-solid fa-file-pdf" style="color: #D90416; font-size: 28px;"></i></button>
  
    
</fieldset>

    </div>
</div>

</div>
<section class="fotos">
    <div class="conteudoFotos">
        <form id="formFotos" onsubmit="salvarFotos(event)">
            
            <!-- Fotos Pré-lavagem -->
            <fieldset class="retrato">
                <legend>Fotos pré-lavagem </legend>
                <div class="fotoUpload">
                    <div class="foto-container">
                        <img id="preview1" src="https://via.placeholder.com/150" alt="Foto 1">
                        <input type="file" id="foto1" accept="image/*" onchange="previewImage(event, 'preview1')">
                    </div>
                    <div class="foto-container">
                        <img id="preview2" src="https://via.placeholder.com/150" alt="Foto 2">
                        <input type="file" id="foto2" accept="image/*" onchange="previewImage(event, 'preview2')">
                    </div>
                    <div class="foto-container">
                        <img id="preview3" src="https://via.placeholder.com/150" alt="Foto 3">
                        <input type="file" id="foto3" accept="image/*" onchange="previewImage(event, 'preview3')">
                    </div>
                    <div class="foto-container">
                        <img id="preview4" src="https://via.placeholder.com/150" alt="Foto 4">
                        <input type="file" id="foto4" accept="image/*" onchange="previewImage(event, 'preview4')">
                    </div>
                </div>
            </fieldset>

            <!-- Fotos Pós-lavagem -->
            <fieldset class="retrato">
                <legend>Fotos pós-lavagem </legend>
                <div class="fotoUpload">
                    <div class="foto-container">
                        <img id="preview5" src="https://via.placeholder.com/150" alt="Foto 5">
                        <input type="file" id="foto5" accept="image/*" onchange="previewImage(event, 'preview5')">
                    </div>
                    <div class="foto-container">
                        <img id="preview6" src="https://via.placeholder.com/150" alt="Foto 6">
                        <input type="file" id="foto6" accept="image/*" onchange="previewImage(event, 'preview6')">
                    </div>
                    <div class="foto-container">
                        <img id="preview7" src="https://via.placeholder.com/150" alt="Foto 7">
                        <input type="file" id="foto7" accept="image/*" onchange="previewImage(event, 'preview7')">
                    </div>
                    <div class="foto-container">
                        <img id="preview8" src="https://via.placeholder.com/150" alt="Foto 8">
                        <input type="file" id="foto8" accept="image/*" onchange="previewImage(event, 'preview8')">
                    </div>
                </div>
           
                    <a class="e-mail">jose.siqueira@elis.com</a>
               
            </fieldset>

            <div class="btns">
                <button class="photo" type="button" id="previewFotos" onclick="preverFotos()">
                    <i class="fa-solid fa-image" style="color:  #03A6A6; font-size: 28px;"></i>
                </button>
                
            </div>
          
            
            <div class="previsaoFotos" id="previsaoFotos"></div>
            
           
        </form>
    </div>
    <footer>
    
</section>


<script>
    // Função para exibir a prévia da imagem ao selecionar um arquivo
    function previewImage(event, previewId) {
        const input = event.target;
        const preview = document.getElementById(previewId);

        if (input.files && input.files[0]) {
            const reader = new FileReader();
            reader.onload = function(e) {
                preview.src = e.target.result;
            };
            reader.readAsDataURL(input.files[0]);
        }
    }

    // Exibir todas as fotos carregadas
    function preverFotos() {
        const previewContainer = document.getElementById("previsaoFotos");
        previewContainer.innerHTML = "";

        for (let i = 1; i <= 8; i++) {
            const file = document.getElementById(`foto${i}`).files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    const img = document.createElement("img");
                    img.src = e.target.result;
                    previewContainer.appendChild(img);
                };
                reader.readAsDataURL(file);
            }
        }
    }

    // Salvar fotos no localStorage e redirecionar
    function salvarFotos(event) {
        event.preventDefault();

        const fotosBase64 = [];
        const readerPromises = [];

        for (let i = 1; i <= 8; i++) {
            const file = document.getElementById(`foto${i}`).files[0];
            if (file) {
                readerPromises.push(new Promise(resolve => {
                    const reader = new FileReader();
                    reader.onload = (e) => resolve(e.target.result);
                    reader.readAsDataURL(file);
                }));
            }
        }

        Promise.all(readerPromises).then(results => {
            results.forEach(result => {
                if (result) fotosBase64.push(result);
            });

            if (fotosBase64.length === 0) {
                alert("Por favor, adicione pelo menos uma foto antes de salvar.");
                return;
            }

            // Salva as fotos no localStorage
            localStorage.setItem("fotosLaudo", JSON.stringify(fotosBase64));

            // Redireciona para index.html
            window.location.href = "index.html";
        }).catch(err => {
            console.error("Erro ao salvar fotos:", err);
            alert("Erro ao salvar as fotos. Tente novamente.");
        });
    }
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
<script src="main.js" defer></script>
</body>
</html>




